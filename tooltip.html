<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			function simple_tooltip(selector, tooltip_class, attribute_name){
				//Generate code for each tooltip
				jQuery(selector).each(function(i){
					if(jQuery(this).attr(attribute_name) != ""){
						if(the_image = new RegExp(/^img:(.+)/).exec(jQuery(this).attr(attribute_name))){
							jQuery("body").append("<div class=\"" + tooltip_class + "\" id=\"" + tooltip_class + i + "\"><p><img src=\"" + the_image[1] + "\" alt=\"[image]\" /></p></div>");
						}else{
							jQuery("body").append("<div class=\"" + tooltip_class + "\" id=\"" + tooltip_class + i + "\"><p>" + jQuery(this).attr(attribute_name) + "</p></div>");
						}
						var my_tooltip = jQuery("#" + tooltip_class + i);
						jQuery(this).removeAttr(attribute_name).mouseover(function(){
							my_tooltip.css({opacity:0.8, display:"none"}).fadeIn(200);
							jQuery(this).addClass("hover");
						}).mousemove(function(kmouse){
							my_tooltip.css({left:kmouse.pageX+15, top:kmouse.pageY+15});
						}).mouseout(function(){
							my_tooltip.fadeOut(100);
							jQuery(this).removeClass("hover");
						});
					}
				});
			}
			jQuery(document).ready(function(){
				simple_tooltip("div", "tooltip", "title");
				simple_tooltip("span", "tooltip", "title");
			});
		</script>
		<style>
			* {
				font: 12px Verdana;
			}
			.tooltip {
				z-index: 999;
				left: -9999px;
				background-color: #ccc;
				border: 1px solid #eee;
				padding: 3px;
				position: absolute;
				min-width: 150px;
				display: none;
			}
			.tooltip p {
				color: #fff;
				background-color: #222;
				padding: 3px 6px;
				margin: 0;
			}
			.tooltip img {
				padding: 5px;
			}
			.hover {
				color: #fa0;
				cursor: default;
			}
		</style>
	</head>
	<body>
		<p><span title="むずかしい">難しい</span><span title="かんじ">漢字</span></p>
		<p><span title="img:muzukashii.png">難しい</span><span title="img:kanji.png">漢字</span></p>
	</body>
</html>
